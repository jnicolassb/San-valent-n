<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="Para el amor de mi vida - Nuestro √°rbol del amor">
  <title>Para el amor de mi vida</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    body {
      font-family: Georgia, 'Times New Roman', serif;
      min-height: 100vh;
      min-height: 100dvh;
      background: linear-gradient(180deg, #faf5f0 0%, #f5ebe0 50%, #ede4db 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      overflow-x: hidden;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at 10% 20%, rgba(255, 182, 193, 0.15) 0%, transparent 40%);
      pointer-events: none;
      z-index: 0;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.5; }
      50% { transform: translate(6px, -12px) scale(1.05); opacity: 0.75; }
    }

    /* Scattered decorative hearts */
    .scattered-hearts {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .scattered-hearts span {
      position: absolute;
      font-size: 0.75rem;
      opacity: 0.4;
      color: #c41e3a;
      animation: float 6s ease-in-out infinite;
    }

    .scattered-hearts span:nth-child(1) { left: 8%; top: 12%; animation-delay: 0s; }
    .scattered-hearts span:nth-child(2) { left: 92%; top: 25%; animation-delay: 1.2s; }
    .scattered-hearts span:nth-child(3) { left: 15%; top: 75%; animation-delay: 0.8s; }
    .scattered-hearts span:nth-child(4) { left: 85%; top: 65%; animation-delay: 2s; }
    .scattered-hearts span:nth-child(5) { left: 5%; top: 45%; animation-delay: 1.5s; }
    .scattered-hearts span:nth-child(6) { left: 88%; top: 88%; animation-delay: 0.5s; }
    .scattered-hearts span:nth-child(7) { left: 70%; top: 15%; animation-delay: 2.2s; }
    .scattered-hearts span:nth-child(8) { left: 25%; top: 85%; animation-delay: 1.8s; }
    .scattered-hearts span:nth-child(9) { left: 95%; top: 50%; animation-delay: 0.3s; }
    .scattered-hearts span:nth-child(10) { left: 45%; top: 5%; animation-delay: 1s; }

    .container {
      max-width: 720px;
      width: 100%;
      position: relative;
      z-index: 1;
    }

    /* Tarjeta con layout */
    .tree-phase {
      display: block;
      animation: cardReveal 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    @keyframes cardReveal {
      from {
        opacity: 0;
        transform: scale(0.92) translateY(20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    .card {
      background: #fff;
      border-radius: 24px;
      padding: 32px;
      box-shadow: 0 10px 40px rgba(92, 74, 74, 0.12), 0 4px 12px rgba(196, 30, 58, 0.06);
      border: 1px solid rgba(196, 30, 58, 0.08);
      overflow: hidden;
    }

    .card-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 32px;
      align-items: center;
    }

    @media (max-width: 640px) {
      .card-content {
        grid-template-columns: 1fr;
      }

      .tree-column {
        order: -1;
      }
    }

    /* Columna mensaje */
    .message-column {
      text-align: left;
    }

    .headline {
      font-family: 'Segoe Script', 'Brush Script MT', cursive;
      font-size: 1.75rem;
      font-weight: 600;
      color: #c41e3a;
      margin-bottom: 16px;
    }

    .quote {
      font-size: 1.1rem;
      line-height: 1.7;
      color: #3d2c2e;
      margin-bottom: 12px;
    }

    .quote:last-of-type {
      margin-bottom: 16px;
    }

    .iloveyou {
      font-family: 'Segoe Script', 'Brush Script MT', cursive;
      font-size: 1.25rem;
      font-style: italic;
      color: #e91e63;
      margin-bottom: 24px;
    }

    .countdown-intro {
      font-size: 0.9rem;
      color: #5c4a4a;
      margin-bottom: 8px;
    }

    .countdown-hint {
      font-size: 0.85rem;
      color: #8b7355;
      margin-top: 12px;
      padding: 12px;
      background: #faf5f0;
      border-radius: 10px;
      border: 1px dashed rgba(196, 30, 58, 0.2);
    }

    .countdown {
      font-family: Georgia, 'Times New Roman', serif;
      font-size: 1.25rem;
      font-weight: 700;
      color: #c41e3a;
      letter-spacing: 0.5px;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    /* Columna √°rbol de corazones */
    .tree-column {
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .heart-tree {
      position: relative;
      width: 220px;
      height: 260px;
    }

    .trunk {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 28px;
      height: 75px;
      background: linear-gradient(90deg, #4e342e 0%, #5d4037 30%, #6d4c41 50%, #8d6e63 100%);
      border-radius: 6px 6px 4px 4px;
      box-shadow: inset -3px 0 6px rgba(0,0,0,0.25), 0 4px 12px rgba(0,0,0,0.15);
    }

    .trunk::before {
      content: '';
      position: absolute;
      bottom: 50%;
      left: -8px;
      width: 12px;
      height: 3px;
      background: #5d4037;
      border-radius: 2px;
      transform: rotate(-20deg);
      box-shadow: inset 0 1px 2px rgba(0,0,0,0.2);
    }

    .trunk::after {
      content: '';
      position: absolute;
      bottom: 35%;
      right: -8px;
      width: 10px;
      height: 3px;
      background: #5d4037;
      border-radius: 2px;
      transform: rotate(20deg);
      box-shadow: inset 0 1px 2px rgba(0,0,0,0.2);
    }

    .hearts-cluster {
      position: absolute;
      bottom: 55px;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 180px;
    }

    .mini-heart {
      position: absolute;
      width: 18px;
      height: 18px;
      animation: heartPulse 2.5s ease-in-out infinite;
    }

    .mini-heart::before,
    .mini-heart::after {
      content: '';
      position: absolute;
      width: 9px;
      height: 14px;
      border-radius: 9px 9px 0 0;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }

    .mini-heart::before {
      left: 0;
      transform: rotate(-45deg);
      transform-origin: 100% 100%;
    }

    .mini-heart::after {
      right: 0;
      transform: rotate(45deg);
      transform-origin: 0% 100%;
    }

    /* Forma de coraz√≥n: copa densa con silueta definida */
    .mini-heart.h1  { left: 38%; top: 0%; }
    .mini-heart.h2  { left: 45%; top: 0%; }
    .mini-heart.h3  { left: 52%; top: 0%; }
    .mini-heart.h4  { left: 25%; top: 8%; }
    .mini-heart.h5  { left: 32%; top: 5%; }
    .mini-heart.h6  { left: 42%; top: 6%; }
    .mini-heart.h7  { left: 52%; top: 6%; }
    .mini-heart.h8  { left: 62%; top: 5%; }
    .mini-heart.h9  { left: 75%; top: 8%; }
    .mini-heart.h10 { left: 18%; top: 18%; }
    .mini-heart.h11 { left: 28%; top: 15%; }
    .mini-heart.h12 { left: 38%; top: 16%; }
    .mini-heart.h13 { left: 48%; top: 14%; }
    .mini-heart.h14 { left: 58%; top: 16%; }
    .mini-heart.h15 { left: 68%; top: 15%; }
    .mini-heart.h16 { left: 82%; top: 18%; }
    .mini-heart.h17 { left: 12%; top: 28%; }
    .mini-heart.h18 { left: 22%; top: 25%; }
    .mini-heart.h19 { left: 32%; top: 26%; }
    .mini-heart.h20 { left: 42%; top: 24%; }
    .mini-heart.h21 { left: 52%; top: 24%; }
    .mini-heart.h22 { left: 62%; top: 26%; }
    .mini-heart.h23 { left: 72%; top: 25%; }
    .mini-heart.h24 { left: 82%; top: 28%; }
    .mini-heart.h25 { left: 18%; top: 38%; }
    .mini-heart.h26 { left: 28%; top: 36%; }
    .mini-heart.h27 { left: 38%; top: 35%; }
    .mini-heart.h28 { left: 48%; top: 34%; }
    .mini-heart.h29 { left: 58%; top: 35%; }
    .mini-heart.h30 { left: 68%; top: 36%; }
    .mini-heart.h31 { left: 78%; top: 38%; }
    .mini-heart.h32 { left: 25%; top: 48%; }
    .mini-heart.h33 { left: 35%; top: 46%; }
    .mini-heart.h34 { left: 45%; top: 45%; }
    .mini-heart.h35 { left: 55%; top: 45%; }
    .mini-heart.h36 { left: 65%; top: 46%; }
    .mini-heart.h37 { left: 75%; top: 48%; }
    .mini-heart.h38 { left: 32%; top: 56%; }
    .mini-heart.h39 { left: 42%; top: 54%; }
    .mini-heart.h40 { left: 52%; top: 54%; }
    .mini-heart.h41 { left: 62%; top: 56%; }
    .mini-heart.h42 { left: 38%; top: 64%; }
    .mini-heart.h43 { left: 48%; top: 62%; }
    .mini-heart.h44 { left: 58%; top: 64%; }
    .mini-heart.h45 { left: 45%; top: 72%; }
    .mini-heart.h46 { left: 55%; top: 72%; }
    .mini-heart.h47 { left: 50%; top: 82%; }

    .mini-heart.c1::before, .mini-heart.c1::after { background: linear-gradient(145deg, #ff4081, #e91e63); }
    .mini-heart.c2::before, .mini-heart.c2::after { background: linear-gradient(145deg, #e91e63, #c41e3a); }
    .mini-heart.c3::before, .mini-heart.c3::after { background: linear-gradient(145deg, #f06292, #ec407a); }
    .mini-heart.c4::before, .mini-heart.c4::after { background: linear-gradient(145deg, #d81b60, #ad1457); }
    .mini-heart.c5::before, .mini-heart.c5::after { background: linear-gradient(145deg, #ec407a, #e91e63); }

    .mini-heart:nth-child(3n) { animation-delay: 0.3s; }
    .mini-heart:nth-child(5n) { animation-delay: 0.6s; }
    .mini-heart:nth-child(7n) { animation-delay: 0.9s; }
    .mini-heart:nth-child(11n) { animation-delay: 1.2s; }

    @keyframes heartPulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.12); opacity: 0.95; }
    }

    .heart-tree-floating {
      position: absolute;
      font-size: 0.9rem;
      opacity: 0.7;
      animation: floatAround 4s ease-in-out infinite;
      pointer-events: none;
    }

    .heart-tree-floating.f1 { top: 10%; left: -5%; animation-delay: 0s; }
    .heart-tree-floating.f2 { top: 60%; left: -8%; animation-delay: 1s; }
    .heart-tree-floating.f3 { top: 25%; right: -5%; animation-delay: 0.5s; }
    .heart-tree-floating.f4 { top: 75%; right: -8%; animation-delay: 1.5s; }
    .heart-tree-floating.f5 { top: 0%; right: 15%; animation-delay: 0.8s; }
    .heart-tree-floating.f6 { bottom: 5%; left: 10%; animation-delay: 1.2s; }

    @keyframes floatAround {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-8px) scale(1.15); }
    }

    .heart-tree {
      animation: growTree 1.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    @keyframes growTree {
      from {
        transform: scale(0.3);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    /* Bot√≥n recuerdos */
    .btn-memories {
      display: inline-block;
      margin-top: 16px;
      padding: 12px 24px;
      font-family: 'Segoe Script', 'Brush Script MT', cursive;
      font-size: 1rem;
      font-weight: 600;
      color: #fff;
      background: linear-gradient(145deg, #e91e63, #c41e3a);
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 4px 12px rgba(196, 30, 58, 0.3);
    }

    .btn-memories:hover {
      transform: scale(1.02);
      box-shadow: 0 6px 16px rgba(196, 30, 58, 0.4);
    }

    /* Timeline overlay */
    .timeline-overlay {
      position: fixed;
      inset: 0;
      background: linear-gradient(160deg, #1a0a12 0%, #2d1b2e 40%, #1a1625 100%);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 60px 24px 100px;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.4s ease, visibility 0.4s ease;
    }

    .timeline-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .timeline-close {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 44px;
      height: 44px;
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      color: #fff;
      font-size: 1.5rem;
      line-height: 1;
      cursor: pointer;
      z-index: 20;
      transition: background 0.2s, transform 0.2s;
    }

    .timeline-close:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: scale(1.05);
    }

    .timeline-viewer {
      position: relative;
      width: 100%;
      max-width: 560px;
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .timeline-slide {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.35s ease-in-out;
      pointer-events: none;
    }

    .timeline-slide.active {
      opacity: 1;
      pointer-events: auto;
    }

    .timeline-frame {
      padding: 14px;
      background: #fff;
      border-radius: 4px;
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.08);
      overflow: hidden;
    }

    .timeline-slide img {
      display: block;
      max-width: 100%;
      max-height: 55vh;
      width: auto;
      height: auto;
      object-fit: contain;
    }

    .timeline-slide.active img {
      animation: kenBurns 2s ease-out forwards;
    }

    @keyframes kenBurns {
      from { transform: scale(1.02); }
      to { transform: scale(1.06); }
    }

    .timeline-caption {
      margin-top: 20px;
      font-family: 'Segoe Script', 'Brush Script MT', cursive;
      font-size: 1.25rem;
      color: rgba(255, 255, 255, 0.95);
      text-align: center;
    }

    .timeline-bar {
      position: absolute;
      bottom: 32px;
      left: 50%;
      transform: translateX(-50%);
      width: min(560px, calc(100% - 48px));
    }

    .timeline-track {
      position: relative;
      height: 6px;
      background: rgba(255, 255, 255, 0.12);
      border-radius: 3px;
    }

    .timeline-progress {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      background: linear-gradient(90deg, #e91e63, #f06292);
      border-radius: 3px;
      transition: width 0.3s ease;
    }

    .timeline-dots {
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      transform: translateY(-50%);
      display: flex;
      justify-content: space-between;
      padding: 0 2px;
      pointer-events: none;
    }

    .timeline-dots span {
      width: 8px;
      height: 8px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      transition: all 0.3s ease;
      pointer-events: auto;
      cursor: pointer;
    }

    .timeline-dots span:hover {
      background: rgba(255, 255, 255, 0.5);
      transform: scale(1.2);
    }

    .timeline-dots span.active {
      background: #e91e63;
      transform: scale(1.5);
      box-shadow: 0 0 12px rgba(233, 30, 99, 0.6);
    }

    .timeline-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 48px;
      height: 48px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      color: #fff;
      font-size: 1.75rem;
      line-height: 1;
      cursor: pointer;
      z-index: 15;
      transition: background 0.2s, transform 0.2s;
    }

    .timeline-arrow:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-50%) scale(1.08);
    }

    .timeline-arrow.prev { left: 16px; }
    .timeline-arrow.next { right: 16px; }

    @media (max-width: 640px) {
      .timeline-overlay { padding: 50px 16px 90px; }
      .timeline-arrow { width: 40px; height: 40px; font-size: 1.5rem; }
      .timeline-arrow.prev { left: 8px; }
      .timeline-arrow.next { right: 8px; }
      .timeline-bar { bottom: 24px; width: min(560px, calc(100% - 32px)); }
    }
  </style>
</head>
<body>
  <div class="scattered-hearts" aria-hidden="true">
    <span>‚ô•</span><span>‚ô•</span><span>‚ô•</span><span>‚ô•</span><span>‚ô•</span>
    <span>‚ô•</span><span>‚ô•</span><span>‚ô•</span><span>‚ô•</span><span>‚ô•</span>
  </div>

  <div class="container">
    <div class="tree-phase visible" id="treePhase">
      <div class="card">
        <div class="card-content">
          <div class="message-column">
            <p class="headline">Para el amor de mi vida:</p>
            <p class="quote">Desde que llegaste a mi vida, cada d√≠a tiene m√°s color, m√°s sentido y m√°s amor.
              No necesito un d√≠a especial para recordarte lo mucho que te amo, pero hoy quiero decirte que eres mi San Valent√≠n m√°s hermosa, mi lugar favorito y mi casualidad m√°s bonita.
              Gracias por existir, por hacerme sonre√≠r y por caminar a mi lado.
              Te amo hoy, ma√±ana y todos los d√≠as que vengan.</p>
            <p class="iloveyou">Eres mi casualidad m√°s bonita‚Ä¶ y mi San Valent√≠n para toda la vida ‚ù§Ô∏è</p>
            <p class="countdown-intro">Mi amor por ti comenz√≥ hace...</p>
            <div class="countdown" id="countdown">Desde el 16 de mayo de 2022 ‚ù§Ô∏è</div>
            <noscript>
              <p class="countdown-hint">Para ver el contador en vivo, descarga este archivo y √°brelo con Chrome o Safari.</p>
            </noscript>
            <button type="button" class="btn-memories" id="btnMemories" aria-label="Ver nuestros recuerdos">Nuestros momentos juntos</button>
          </div>
          <div class="tree-column">
            <div class="heart-tree">
              <span class="heart-tree-floating f1">üíï</span>
              <span class="heart-tree-floating f2">‚ù§Ô∏è</span>
              <span class="heart-tree-floating f3">üíó</span>
              <span class="heart-tree-floating f4">üíï</span>
              <span class="heart-tree-floating f5">‚ù§Ô∏è</span>
              <span class="heart-tree-floating f6">üíó</span>
              <div class="hearts-cluster">
                <div class="mini-heart h1 c1"></div><div class="mini-heart h2 c2"></div><div class="mini-heart h3 c3"></div>
                <div class="mini-heart h4 c4"></div><div class="mini-heart h5 c5"></div><div class="mini-heart h6 c1"></div>
                <div class="mini-heart h7 c2"></div><div class="mini-heart h8 c3"></div><div class="mini-heart h9 c4"></div>
                <div class="mini-heart h10 c5"></div><div class="mini-heart h11 c1"></div><div class="mini-heart h12 c2"></div>
                <div class="mini-heart h13 c3"></div><div class="mini-heart h14 c4"></div><div class="mini-heart h15 c5"></div>
                <div class="mini-heart h16 c1"></div><div class="mini-heart h17 c2"></div><div class="mini-heart h18 c3"></div>
                <div class="mini-heart h19 c4"></div><div class="mini-heart h20 c5"></div><div class="mini-heart h21 c1"></div>
                <div class="mini-heart h22 c2"></div><div class="mini-heart h23 c3"></div><div class="mini-heart h24 c4"></div>
                <div class="mini-heart h25 c5"></div><div class="mini-heart h26 c1"></div><div class="mini-heart h27 c2"></div>
                <div class="mini-heart h28 c3"></div><div class="mini-heart h29 c4"></div><div class="mini-heart h30 c5"></div>
                <div class="mini-heart h31 c1"></div><div class="mini-heart h32 c2"></div><div class="mini-heart h33 c3"></div>
                <div class="mini-heart h34 c4"></div><div class="mini-heart h35 c5"></div><div class="mini-heart h36 c1"></div>
                <div class="mini-heart h37 c2"></div><div class="mini-heart h38 c3"></div><div class="mini-heart h39 c4"></div>
                <div class="mini-heart h40 c5"></div><div class="mini-heart h41 c1"></div><div class="mini-heart h42 c2"></div>
                <div class="mini-heart h43 c3"></div><div class="mini-heart h44 c4"></div><div class="mini-heart h45 c5"></div>
                <div class="mini-heart h46 c1"></div><div class="mini-heart h47 c2"></div>
              </div>
              <div class="trunk"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="timeline-overlay" id="modalMemories" aria-hidden="true">
    <button type="button" class="timeline-close" id="btnClose" aria-label="Cerrar">√ó</button>
    <div class="timeline-viewer">
      <div class="timeline-slide active" id="slideA">
        <div class="timeline-frame">
          <img src="" alt="Nuestros recuerdos" id="imgA">
        </div>
      </div>
      <div class="timeline-slide" id="slideB">
        <div class="timeline-frame">
          <img src="" alt="Nuestros recuerdos" id="imgB">
        </div>
      </div>
    </div>
    <p class="timeline-caption" id="modalCaption"></p>
    <div class="timeline-bar">
      <div class="timeline-track">
        <div class="timeline-progress" id="timelineProgress"></div>
        <div class="timeline-dots" id="timelineDots"></div>
      </div>
    </div>
    <button type="button" class="timeline-arrow prev" id="btnPrev" aria-label="Anterior">‚Äπ</button>
    <button type="button" class="timeline-arrow next" id="btnNext" aria-label="Siguiente">‚Ä∫</button>
  </div>

  <script>
    var countdownEl = document.getElementById('countdown');
    var START_DATE = new Date('2022-05-16');

    function pad(n) {
      return n < 10 ? '0' + n : String(n);
    }

    function updateCountdown() {
      if (!countdownEl) return;
      var now = new Date();
      if (now < START_DATE) {
        countdownEl.textContent = '0 d√≠as 00 horas 00 minutos 00 segundos';
        return;
      }
      var diff = now - START_DATE;
      var days = Math.floor(diff / (1000 * 60 * 60 * 24));
      var hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((diff % (1000 * 60)) / 1000);
      countdownEl.textContent = days + ' d√≠as ' + pad(hours) + ' horas ' + pad(minutes) + ' minutos ' + pad(seconds) + ' segundos';
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);

    var memoriesData = [
      { src: 'Im√°genes/IMG-20211008-WA0098 1.jpg', caption: 'Octubre 2021' },
      { src: 'Im√°genes/IMG-20211210-WA0010 1.jpg', caption: 'Diciembre 2021' },
      { src: 'Im√°genes/IMG-20211213-WA0041.jpg', caption: 'Diciembre 2021' },
      { src: 'Im√°genes/IMG-20211229-WA0017.jpg', caption: 'Diciembre 2021' },
      { src: 'Im√°genes/IMG-20211230-WA0019.jpg', caption: 'Diciembre 2021' },
      { src: 'Im√°genes/IMG-20220101-WA0051.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220107-WA0001.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220111-WA0004.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220111-WA0009.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220111-WA0015.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220111-WA0016.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220111-WA0025.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220111-WA0084.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220119-WA0039.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220122-WA0016.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220122-WA0017.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220122-WA0033.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220122-WA0037.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220124-WA0042.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220124-WA0045.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220124-WA0046.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220124-WA0049.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220128-WA0019.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220131-WA0081.jpg', caption: 'Enero 2022' },
      { src: 'Im√°genes/IMG-20220213-WA0020.jpg', caption: 'Febrero 2022' },
      { src: 'Im√°genes/IMG-20220213-WA0021.jpg', caption: 'Febrero 2022' },
      { src: 'Im√°genes/IMG-20220213-WA0022.jpg', caption: 'Febrero 2022' },
      { src: 'Im√°genes/IMG-20220321-WA0024.jpg', caption: 'Marzo 2022' },
      { src: 'Im√°genes/IMG-20220321-WA0038.jpg', caption: 'Marzo 2022' },
      { src: 'Im√°genes/IMG-20220330-WA0058.jpg', caption: 'Marzo 2022' },
      { src: 'Im√°genes/IMG-20220403-WA0030.jpg', caption: 'Abril 2022' },
      { src: 'Im√°genes/IMG-20220627-WA0025.jpg', caption: 'Junio 2022' },
      { src: 'Im√°genes/IMG-20220627-WA0026.jpg', caption: 'Junio 2022' },
      { src: 'Im√°genes/IMG-20220925-WA0050.jpg', caption: 'Septiembre 2022' },
      { src: 'Im√°genes/IMG-20221125-WA0089.jpg', caption: 'Noviembre 2022' },
      { src: 'Im√°genes/IMG_20221030_204901_701.jpg', caption: 'Octubre 2022' },
      { src: 'Im√°genes/IMG_20221125_214249_455.jpg', caption: 'Noviembre 2022' },
      { src: 'Im√°genes/IMG_20221231_235744_826.jpg', caption: 'Diciembre 2022' },
      { src: 'Im√°genes/IMG_20221231_235800_208.jpg', caption: 'Diciembre 2022' },
      { src: 'Im√°genes/IMG_20230106_192147_825.jpg', caption: 'Enero 2023' },
      { src: 'Im√°genes/IMG_20230210_202255_694.jpg', caption: 'Febrero 2023' },
      { src: 'Im√°genes/IMG_20231021_175611_655.jpg', caption: 'Octubre 2023' },
      { src: 'Im√°genes/IMG_20231021_183023_015.jpg', caption: 'Octubre 2023' },
      { src: 'Im√°genes/20240311_065134.jpg', caption: 'Marzo 2024' },
      { src: 'Im√°genes/20240407_181941.jpg', caption: 'Abril 2024' },
      { src: 'Im√°genes/20240428_154241.jpg', caption: 'Abril 2024' },
      { src: 'Im√°genes/20240428_154346.jpg', caption: 'Abril 2024' },
      { src: 'Im√°genes/20240428_163908.jpg', caption: 'Abril 2024' },
      { src: 'Im√°genes/20240428_163944.jpg', caption: 'Abril 2024' },
      { src: 'Im√°genes/20240428_164014(0).jpg', caption: 'Abril 2024' },
      { src: 'Im√°genes/20240630_115913.jpg', caption: 'Junio 2024' },
      { src: 'Im√°genes/20240630_163903.jpg', caption: 'Junio 2024' },
      { src: 'Im√°genes/20241103_120702.jpg', caption: 'Noviembre 2024' },
      { src: 'Im√°genes/20241201_204353.jpg', caption: 'Diciembre 2024' },
      { src: 'Im√°genes/20250216_102510.jpg', caption: 'Febrero 2025' },
      { src: 'Im√°genes/IMG_0504.JPG', caption: 'Recuerdos' },
      { src: 'Im√°genes/IMG_0577.JPG', caption: 'Recuerdos' },
      { src: 'Im√°genes/IMG_1363.JPG', caption: 'Recuerdos' },
      { src: 'Im√°genes/IMG_1470.JPG', caption: 'Recuerdos' },
      { src: 'Im√°genes/IMG_1560.JPG', caption: 'Recuerdos' },
      { src: 'Im√°genes/DSC_2753.JPG', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-1165614761.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-1286661554.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-142480774.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-1547863385.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-1637930993.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-1913064817.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-251496605.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-578004901.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-712572460.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-749118769.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/Snapchat-985853110.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/1e4c787b-1a08-422c-8098-a4bfb61c2fd7.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/44C73CFD-7BDD-4C74-8B8B-E875CF0FF08D.JPG', caption: 'Recuerdos' },
      { src: 'Im√°genes/751DB836-BA91-4061-A8A8-0CD3F4C5690D.JPG', caption: 'Recuerdos' },
      { src: 'Im√°genes/B77B707D-38D1-4B25-A5CC-28FC7C8A7F04.jpg', caption: 'Recuerdos' },
      { src: 'Im√°genes/D8CB4E7E-5F58-444F-B3C3-3C27E7743E9A.JPG', caption: 'Recuerdos' },
      { src: 'Im√°genes/fcfd0d25-1d1b-4ce5-b907-55b307e95284.jpg', caption: 'Recuerdos' }
    ];

    var currentIndex = 0;
    var slideshowInterval;
    var useSlideA = true;
    var SLIDE_DURATION = 2000;

    var slideA = document.getElementById('slideA');
    var slideB = document.getElementById('slideB');
    var imgA = document.getElementById('imgA');
    var imgB = document.getElementById('imgB');
    var modalCaption = document.getElementById('modalCaption');
    var timelineProgress = document.getElementById('timelineProgress');
    var timelineDots = document.getElementById('timelineDots');

    function updateTimelineUI() {
      var pct = memoriesData.length > 0 ? ((currentIndex + 1) / memoriesData.length) * 100 : 0;
      timelineProgress.style.width = pct + '%';
      modalCaption.textContent = memoriesData[currentIndex]?.caption || '';
      var dots = timelineDots.querySelectorAll('span');
      dots.forEach(function(d, i) {
        d.classList.toggle('active', i === currentIndex);
      });
    }

    function showSlide(index) {
      currentIndex = index % memoriesData.length;
      if (currentIndex < 0) currentIndex += memoriesData.length;

      var data = memoriesData[currentIndex];
      var nextImg = useSlideA ? imgB : imgA;
      var nextSlide = useSlideA ? slideB : slideA;
      var prevSlide = useSlideA ? slideA : slideB;

      nextImg.src = data.src;
      nextImg.alt = data.caption || 'Nuestros recuerdos';
      prevSlide.classList.remove('active');
      nextSlide.classList.add('active');
      useSlideA = !useSlideA;
      updateTimelineUI();
    }

    function goNext() {
      clearInterval(slideshowInterval);
      showSlide(currentIndex + 1);
      slideshowInterval = setInterval(goNext, SLIDE_DURATION);
    }

    function goPrev() {
      clearInterval(slideshowInterval);
      showSlide(currentIndex - 1);
      slideshowInterval = setInterval(goNext, SLIDE_DURATION);
    }

    function openMemories() {
      var modal = document.getElementById('modalMemories');
      if (!modal || !memoriesData.length) return;

      timelineDots.innerHTML = '';
      for (var i = 0; i < memoriesData.length; i++) {
        var dot = document.createElement('span');
        dot.setAttribute('data-index', i);
        dot.addEventListener('click', function() {
          var idx = parseInt(this.getAttribute('data-index'), 10);
          clearInterval(slideshowInterval);
          showSlide(idx);
          slideshowInterval = setInterval(goNext, SLIDE_DURATION);
        });
        timelineDots.appendChild(dot);
      }

      currentIndex = 0;
      useSlideA = true;
      imgB.src = '';
      imgA.src = memoriesData[0].src;
      imgA.alt = memoriesData[0].caption || 'Nuestros recuerdos';
      slideB.classList.remove('active');
      slideA.classList.add('active');
      updateTimelineUI();

      modal.setAttribute('aria-hidden', 'false');
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';

      slideshowInterval = setInterval(goNext, SLIDE_DURATION);
    }

    function closeMemories() {
      var modal = document.getElementById('modalMemories');
      if (!modal) return;
      modal.classList.remove('active');
      modal.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
      clearInterval(slideshowInterval);
    }

    document.getElementById('btnMemories')?.addEventListener('click', openMemories);
    document.getElementById('btnClose')?.addEventListener('click', closeMemories);
    document.getElementById('modalMemories')?.addEventListener('click', function(e) {
      if (e.target === this) closeMemories();
    });
    document.getElementById('btnPrev')?.addEventListener('click', goPrev);
    document.getElementById('btnNext')?.addEventListener('click', goNext);
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') closeMemories();
      var modal = document.getElementById('modalMemories');
      if (modal && modal.classList.contains('active')) {
        if (e.key === 'ArrowLeft') { goPrev(); e.preventDefault(); }
        if (e.key === 'ArrowRight') { goNext(); e.preventDefault(); }
      }
    });
  </script>
</body>
</html>
